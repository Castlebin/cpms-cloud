#服务器端口
server:
  port: 8001
  servlet:
    context-path: /systemMicroservice  # 请求接口的前缀
# Spring
spring:
  application:
    # 应用名称
    name: cpms-server-system
  #********以下配置为了捕获 NoHandlerFoundException 异常信息 start ****#
  mvc:
    throw-exception-if-no-handler-found: true
  resources:
    add-mappings: false
  #********以下配置为了捕获 NoHandlerFoundException 异常信息 end ****#

  cloud:
    nacos:
      #      config:
      #        server-addr: 120.0.0.1:8848
      #        file-extension: yaml
      #        prefix: nacos
      discovery: # 服务发现注册
        server-addr: 127.0.0.1:8858

  # 多数据源配置
  datasource:
    dynamic:
      primary: master #设置默认的数据源或者数据源组,默认值即为master
      strict: false #设置严格模式,默认false不启动. 启动后在未匹配到指定数据源时候回抛出异常,不启动会使用默认数据源.
      datasource:
        master:
          url: jdbc:mysql://localhost:3306/cpms-cloud?useUnicode=true&characterEncoding=utf-8&serverTimezone=Asia/Shanghai
          username: root
          password: root
          driver-class-name: com.mysql.cj.jdbc.Driver
        db1:
          url: jdbc:mysql://localhost:3306/cpms-cloud?useUnicode=true&characterEncoding=utf-8&serverTimezone=Asia/Shanghai
          username: root
          password: root
          driver-class-name: com.mysql.cj.jdbc.Driver

  #redis配置
  redis:
    database: 0
    ##redis【单机环境配置】
    host: 127.0.0.1
    # redis【cluster集群】
    #      cluster:
    #         nodes:
    #            - 127.0.0.1:6379
    #            - 127.0.0.1:6380
    #            - 127.0.0.1:6381
    #            - 127.0.0.1:6382
    #      password:
    port: 6379
    #链接超时时间 单位 ms（毫秒）
    timeout: 3000
    lettuce:
      # Redis 线程池设置
      pool:
        #连接池最大连接数（使用负值表示没有限制） 默认 8
        max-active: 8
        #连接池中的最大空闲连接 默认 8
        max-idle: 8
        #连接池最大阻塞等待时间（使用负值表示没有限制） 默认 -1
        max-wait: -1
        #连接池中的最小空闲连接 默认 0
        min-idle: 0
    file: classpath:redisson.yml

#【加载mybatis的xml映射文件】
mybatis-plus:
  mapper-locations: classpath:mybatis/mapper/**/*.xml  # 指定sql映射文件位置
  config-location: classpath:mybatis/mybatis-config.xml  # 指定全局配置文件位置